"use strict";(self.webpackChunkorderpls=self.webpackChunkorderpls||[]).push([[524],{524:(e,t,a)=>{a.r(t),a.d(t,{OPChefOrderCompleted:()=>h});var n=a(5043),r=a(5042),c=a(8831),s=a(4301),l=a(8136),d=a(6604),i=a(2104),o=a(3003),u=a(579);const h=()=>{const[e,t]=(0,n.useState)(!1),[a,h]=(0,n.useState)(!0),[m,b]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),f=(0,n.useRef)([]),_=(0,n.useRef)({}),v=(0,n.useRef)([]),g=(0,n.useRef)([]),j=(0,n.useRef)(null),w=((0,r.i)(),(0,o.d4)((e=>e.appstate.login_info)));function N(e){f.current=[{arrayindex:0,csstheme:{labletext:"",classname:"btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle",id:"btn_cross",icon:"ti ti-x"}},{arrayindex:1,csstheme:{labletext:" Completed",classname:"btn btn-primary",id:"btn_completed"}},{arrayindex:2,csstheme:{labletext:"Cancel",classname:"btn btn-light me-2",id:"btn_cancel"}}],function(e){g.current=e;let t={groupbtnname:"beanchlst",groupbtnselectedname:null,groupbtndata:e.filter((e=>"process"==e.status))};_.current=t}(e.hotelBench),function(){let e={tablename:"tbl_orderlist",grpbtnrowid:null,grpbtnindex:null,tableindex:null,actionButton:{hasAction:!0,hasStatus:!0,canEditRow:!0,canDeleteRow:!0},tableMetaData:{showPagination:!1,showSearch:!1},colMetaData:[{h_colindex:0,h_name:"Orders",h_width:"200px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:1,h_name:"Qty",h_width:"100px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:2,h_name:"Customization",h_width:"100px",h_txtalign:"left",h_navigate:"/home"},{h_colindex:3,h_name:"Sts",h_width:"100px",h_txtalign:"left",h_navigate:"/home"}],tableData:[]};v.current=e}(),t(!0),h(!1)}function y(e){switch(e.currentTarget.id){case"btn_cross":case"blurdiv":case"btn_cancel":document.body.style="",b(!1);break;case"btn_completed":!function(){const e=v.current.grpbtnrowid,t=v.current.grpbtnindex,a=v.current.tableData.map((e=>({showrow:e.showrow,table_value:[{t_key:0,t_value:e.table_value[0].t_value},{t_key:1,t_value:e.table_value[1].t_value},{t_key:2,t_value:e.table_value[2].t_value},{t_key:3,t_value:"Completed"}]})));w.username,_.current.groupbtndata.splice(t,1),j.current.emit("updateChefOrderCompleted",e,a),document.body.style="",b(!1)}()}}return(0,n.useEffect)((()=>(j.current=(0,i.io)("https://canteen-billing-1.onrender.com"),j.current.emit("joinChefOrderCompleted",w.companyName),j.current.on("sendChefrOrderCompleted",(e=>{N(e)})),j.current.on("documentUpdated",((e,t,a)=>{"process"==a&&(_.current.groupbtndata.push(t),x((e=>!e)))})),()=>{j.current&&j.current.disconnect()})),[]),(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsx)(c.z,{}),e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"page-wrapper",children:(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsx)("div",{className:"page-header",children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm-4",children:(0,u.jsx)("h4",{className:"page-title",children:"Order fulfilled"})}),(0,u.jsx)("div",{className:"col-sm-8 text-sm-end",children:(0,u.jsx)("div",{className:"head-icons"})})]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"card-body",id:"card-body",children:[(0,u.jsxs)("div",{className:"border-bottom mb-3 pb-3",children:[(0,u.jsx)("h5",{className:"fw-semibold mb-1",children:"Order's"}),(0,u.jsx)("p",{children:"Thank you! Your order is confirmed and prepared."})]}),(0,u.jsx)(s.z,{groupBtnName:_.current.groupbtnname,groupBtnData:_.current.groupbtndata,handleGroupButtonClick:function(e,t){if("beanchlst"===e){document.body.style.overflow="hidden";const e=structuredClone(_.current.groupbtndata[t].btn_values);_.current.groupbtnselectedname=_.current.groupbtndata[t].labelname,v.current.grpbtnrowid=_.current.groupbtndata[t]._id,v.current.grpbtnindex=t,v.current.tableData=e}b(!0)}})]})})})})]})})})}),(0,u.jsx)("div",{className:"offcanvas offcanvas-end offcanvas-large "+(m?"show":"hiding"),children:m&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"offcanvas-header border-bottom",children:[(0,u.jsx)("h4",{children:_.current.groupbtnselectedname}),(0,u.jsx)(l.G,{ctl_Attribute:f.current[0],handleButtonClick:y})]}),(0,u.jsxs)("div",{className:"offcanvas-body",children:[(0,u.jsx)("h4",{children:"Order"}),(0,u.jsx)(d.a,{tablename:v.current.tablename,actionButton:v.current.actionButton,tableMetaData:v.current.tableMetaData,colMetaData:v.current.colMetaData,tableData:v.current.tableData,handleTableActionClick:function(e,t,a,n){e}}),(0,u.jsxs)("div",{className:"mt-4 d-flex justify-content-end",children:[(0,u.jsx)(l.G,{ctl_Attribute:f.current[2],handleButtonClick:y}),(0,u.jsx)(l.G,{ctl_Attribute:f.current[1],handleButtonClick:y})]})]})]})}),m&&(0,u.jsx)("div",{className:"offcanvas-backdrop fade show",id:"blurdiv",onClick:y})]})]})}}}]);
//# sourceMappingURL=524.953bedfa.chunk.js.map