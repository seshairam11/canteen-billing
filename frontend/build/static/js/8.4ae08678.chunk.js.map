{"version":3,"file":"static/js/8.4ae08678.chunk.js","mappings":"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","sources":["PagesOP/OPHotelUser.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { OPValidations } from '../CommonOP/OPValidations';\r\nimport { OPLoader } from '../ComponentOP/OPLoader';\r\nimport { OPButton } from '../ComponentOP/OPButton';\r\nimport { OPTextBox } from '../ComponentOP/OPTextBox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useFetch from '../ApiOP/useFetch';\r\nimport { setlogininfo } from '../brewStore/AppState';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport const OPHotelUser = () => {\r\n    const [startInit, setStartInit] = useState(true);\r\n    const [startRender, setStartRender] = useState(false);\r\n    const [startLoader, setStartLoader] = useState(true);\r\n    const [showSaveChanges, setShowSaveChanges] = useState(false);\r\n    const [rerender, setRerender] = useState(true);\r\n\r\n    const ctlAttribute = useRef([]);\r\n\r\n    const navigate = useNavigate();\r\n    const validate = OPValidations();\r\n    const dispatchappStore = useDispatch();\r\n    const getAppStoreData = useSelector((state) => state.appstate.login_info);\r\n    const { responseData, isLoadingApi, apiKey, fetchError, serverRequest } = useFetch();\r\n\r\n\r\n    function initControl() {\r\n        let ctlArray = [\r\n            {\r\n                /*txt: First Name  : 0*/\r\n                arrayindex: 0,\r\n                csstheme: {\r\n                    labletext: \"Hotel Name\",\r\n                    classname: \"form-control\",\r\n                    id: \"txt_Restuarantname\",\r\n                    length: 20,\r\n                    readonly: true,\r\n                    hinttext: \"Enter your Hotel Name \",\r\n                },\r\n                inputvalue: getAppStoreData.companyName ?? \"\",\r\n                tooltip: {\r\n                    place: \"bottom\",\r\n                    classname: \"tooltip-react\",\r\n                    isfocus: \"\",\r\n                    errorshow: \"\",\r\n                    isvalidation: false,\r\n                },\r\n                validate: {\r\n                    mandatory: true,\r\n                    datatype: \"alpha\",\r\n                },\r\n                error: {\r\n                    errorshow: false,\r\n                    errormsg: \"The field is mandatory\",\r\n                },\r\n            },\r\n            {\r\n                /*txt: Last Name : 1*/\r\n                arrayindex: 1,\r\n                csstheme: {\r\n                    labletext: \"User Name\",\r\n                    classname: \"form-control\",\r\n                    id: \"txt_username\",\r\n                    length: 20,\r\n                    readonly: true,\r\n                    hinttext: \"Enter your User Name \",\r\n                },\r\n                inputvalue: getAppStoreData.userName ?? \"\",\r\n                tooltip: {\r\n                    place: \"bottom\",\r\n                    classname: \"tooltip-react\",\r\n                    isfocus: \"\",\r\n                    errorshow: \"\",\r\n                    isvalidation: false,\r\n                },\r\n                validate: {\r\n                    mandatory: true,\r\n                    datatype: \"alpha\",\r\n                },\r\n                error: {\r\n                    errorshow: false,\r\n                    errormsg: \"The field is mandatory\",\r\n                },\r\n            },\r\n            {\r\n                //empty\r\n            },\r\n            {\r\n                /*txt: Phone Number : 3*/\r\n                arrayindex: 3,\r\n                csstheme: {\r\n                    labletext: \"Phone Number\",\r\n                    classname: \"form-control\",\r\n                    id: \"num_phonenumber\",\r\n                    length: 10,\r\n                    readonly: true,\r\n                    hinttext: \"Enter your Phone Number\",\r\n                },\r\n                inputvalue: getAppStoreData.phone ?? \"\",\r\n                tooltip: {\r\n                    place: \"bottom\",\r\n                    classname: \"tooltip-react\",\r\n                    isfocus: \"\",\r\n                    errorshow: \"\",\r\n                    isvalidation: false,\r\n                },\r\n                validate: {\r\n                    mandatory: true,\r\n                    datatype: \"phoneno\",\r\n                },\r\n                error: {\r\n                    errorshow: false,\r\n                    errormsg: \"The field is mandatory\",\r\n                },\r\n            },\r\n            {\r\n                /*txt: Email : 4*/\r\n                arrayindex: 4,\r\n                csstheme: {\r\n                    labletext: \"Email\",\r\n                    classname: \"form-control\",\r\n                    id: \"text-email\",\r\n                    length: 50,\r\n                    readonly: true,\r\n                    hinttext: \"Enter your Email Address\",\r\n                },\r\n                inputvalue: getAppStoreData.mailID ?? \"\",\r\n                tooltip: {\r\n                    place: \"bottom\",\r\n                    classname: \"tooltip-react\",\r\n                    isfocus: \"\",\r\n                    errorshow: \"\",\r\n                    isvalidation: false,\r\n                },\r\n                validate: {\r\n                    mandatory: true,\r\n                    datatype: \"email\",\r\n                },\r\n                error: {\r\n                    errorshow: false,\r\n                    errormsg: \"The field is mandatory\",\r\n                },\r\n            },\r\n            {\r\n                /*btn:cross : 5*/\r\n                arrayindex: 5,\r\n                csstheme: {\r\n                    labletext: \"Cancel\",\r\n                    classname: \"btn btn-light me-2\",\r\n                    id: \"btn_cancel\",\r\n                },\r\n            },\r\n            {\r\n                /*btn:cross : 6*/\r\n                arrayindex: 6,\r\n                csstheme: {\r\n                    labletext: \"Edit\",\r\n                    classname: \"btn btn-primary\",\r\n                    id: \"btn_edit\",\r\n                },\r\n            },\r\n            {\r\n                /*btn:cross : 7*/\r\n                arrayindex: 7,\r\n                csstheme: {\r\n                    labletext: \"Save Changes\",\r\n                    classname: \"btn btn-primary\",\r\n                    id: \"btn_savechange\",\r\n                },\r\n            }\r\n        ]\r\n        ctlAttribute.current = ctlArray;\r\n\r\n        setStartInit(false);\r\n        setStartRender(true);\r\n        setStartLoader(false);\r\n    }\r\n\r\n\r\n\r\n\r\n    function handleButtonClick(e) {\r\n        let btn_id = e.currentTarget.id;\r\n        console.log(btn_id);\r\n        switch (btn_id) {\r\n            case \"btn_edit\":\r\n                ctlAttribute.current[0].csstheme.readonly = false;\r\n                ctlAttribute.current[1].csstheme.readonly = false;\r\n                ctlAttribute.current[3].csstheme.readonly = false;\r\n                ctlAttribute.current[4].csstheme.readonly = false;\r\n                setShowSaveChanges(true);\r\n                break;\r\n            case \"btn_savechange\":\r\n                fnSaveChange();\r\n                break;\r\n            case \"btn_cancel\":\r\n                ctlAttribute.current[0].csstheme.readonly = true;\r\n                ctlAttribute.current[1].csstheme.readonly = true;\r\n                ctlAttribute.current[3].csstheme.readonly = true;\r\n                ctlAttribute.current[4].csstheme.readonly = true;\r\n                setShowSaveChanges(false);\r\n                break;\r\n        }\r\n    }\r\n    function fnSaveChange() {\r\n        let canFormSubmit = true;\r\n        let err = [];\r\n        let l_validate = [];\r\n        err.push(validate(ctlAttribute.current[4]))\r\n        err.push(validate(ctlAttribute.current[3]))\r\n        err.push(validate(ctlAttribute.current[1]))\r\n        err.push(validate(ctlAttribute.current[0]))\r\n        console.log(err);\r\n\r\n        for (let i = 0; i < err.length; i++) {\r\n            if (err[i].founderror === true) {\r\n                canFormSubmit = false;\r\n                ctlAttribute.current[err[i].arrayindex].error.errorshow = true;\r\n                l_validate.push(err[i])\r\n            }\r\n        }\r\n        if (canFormSubmit === false) {\r\n            ctlAttribute.current[l_validate[l_validate.length - 1].arrayindex].tooltip.isvalidation = true;\r\n            ctlAttribute.current[l_validate[l_validate.length - 1].arrayindex].tooltip.isfocus.focus();\r\n            setRerender(!rerender);\r\n        } else {\r\n            setStartLoader(true);\r\n            fnSendData();\r\n        }\r\n    }\r\n    function fnSendData() {\r\n        console.log(getAppStoreData.burnerid)\r\n        let _getBody = [\r\n            { \"id\": getAppStoreData.burnerid },\r\n            {\r\n                companyName: getAppStoreData.companyName !== ctlAttribute.current[0].inputvalue ? ctlAttribute.current[0].inputvalue : undefined,\r\n                userName: getAppStoreData.userName !== ctlAttribute.current[1].inputvalue ? ctlAttribute.current[1].inputvalue : undefined,\r\n                phone: getAppStoreData.phone !== ctlAttribute.current[3].inputvalue ? ctlAttribute.current[3].inputvalue : undefined,\r\n                mailID: getAppStoreData.mailID !== ctlAttribute.current[4].inputvalue ? ctlAttribute.current[4].inputvalue : undefined,\r\n            }]\r\n\r\n        let serverRequestParam = {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(_getBody),\r\n            apiUrl: \"/api/v1/editrestauantprofile\",\r\n            apikey: \"EDIT\"\r\n        };\r\n        serverRequest(serverRequestParam);\r\n    }\r\n    useEffect(() => {\r\n        if (startInit === true) {\r\n            initControl();\r\n        } else {\r\n            if (isLoadingApi) {\r\n                console.log(apiKey)\r\n                switch (apiKey) {\r\n                    case \"EDIT\":\r\n                        fnEditResult();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }, [startInit, isLoadingApi]);\r\n\r\n    function fnEditResult() {\r\n        if (responseData.isAuth) {\r\n            console.log(responseData.errormsg)\r\n            console.log(responseData.value)\r\n            let toRedex = responseData.value\r\n            dispatchappStore(\r\n                setlogininfo({\r\n                    ...getAppStoreData,\r\n                    ...toRedex\r\n                }),\r\n            );\r\n            if (toRedex.companyName) {\r\n                navigate(`/${toRedex.companyName}/restauant/my-profile`)\r\n            }\r\n            ctlAttribute.current[0].csstheme.readonly = true;\r\n            ctlAttribute.current[1].csstheme.readonly = true;\r\n            ctlAttribute.current[3].csstheme.readonly = true;\r\n            ctlAttribute.current[4].csstheme.readonly = true;\r\n            setShowSaveChanges(false);\r\n        } else {\r\n            console.log(responseData.errormsg)\r\n        }\r\n        setStartLoader(false);\r\n    }\r\n    return (\r\n        <>\r\n            {startLoader && (<OPLoader />)}\r\n            {startRender && (\r\n                <>\r\n                    <div className=\"page-wrapper\">\r\n                        <div className='content'>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-12\">\r\n                                    <div className=\"page-header\">\r\n                                        <div className=\"row align-items-center\">\r\n                                            <div className=\"col-sm-4\">\r\n                                                <h4 className='page-title'>\r\n                                                    My Profile\r\n                                                </h4>\r\n                                            </div>\r\n                                            <div className=\"col-sm-8 text-sm-end\">\r\n                                                <div className=\"head-icons\"></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-12\">\r\n                                            <div className=\"card\">\r\n                                                <div className=\"card-body\">\r\n                                                    <h4 className='fw-semibold mb-3'>\r\n                                                        User Detail's\r\n                                                    </h4>\r\n                                                    <div className='border-bottom mb-3 pb-3'>\r\n                                                        <h5 className='fw-semibold mb-1'>\r\n                                                            Canteen Owner Information\r\n                                                        </h5>\r\n                                                        <p>Provide the information below</p>\r\n                                                    </div>\r\n                                                    <div className=\"border-bottom mb-3\">\r\n                                                        <div className=\"row\">\r\n                                                            <div className=\"col-md-6\">\r\n                                                                <div className=\"mb-3\">\r\n                                                                    <OPTextBox\r\n                                                                        ctl_Attribute={ctlAttribute.current[1]}\r\n                                                                        rerender={rerender}\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"col-md-6\">\r\n                                                                <div className=\"mb-3\">\r\n                                                                    <OPTextBox\r\n                                                                        ctl_Attribute={ctlAttribute.current[3]}\r\n                                                                        rerender={rerender}\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"row\">\r\n                                                            <div className=\"col-md-6\">\r\n                                                                <div className=\"mb-3\">\r\n                                                                    <OPTextBox\r\n                                                                        ctl_Attribute={ctlAttribute.current[4]}\r\n                                                                        rerender={rerender}\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div >\r\n                </>\r\n            )}\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n"],"names":["OPHotelUser","startInit","setStartInit","useState","startRender","setStartRender","startLoader","setStartLoader","showSaveChanges","setShowSaveChanges","rerender","setRerender","ctlAttribute","useRef","navigate","useNavigate","dispatchappStore","OPValidations","useDispatch","getAppStoreData","useSelector","state","appstate","login_info","responseData","isLoadingApi","apiKey","fetchError","serverRequest","useFetch","useEffect","_getAppStoreData$comp","_getAppStoreData$user","_getAppStoreData$phon","_getAppStoreData$mail","ctlArray","arrayindex","csstheme","labletext","classname","id","length","readonly","hinttext","inputvalue","companyName","tooltip","place","isfocus","errorshow","isvalidation","validate","mandatory","datatype","error","errormsg","userName","phone","mailID","current","initControl","console","log","isAuth","value","toRedex","setlogininfo","fnEditResult","_jsxs","_Fragment","children","_jsx","OPLoader","className","OPTextBox","ctl_Attribute"],"sourceRoot":""}